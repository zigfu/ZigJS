<html>
<head>
<title>Zigfu toys</title>

<script src='zig.js'></script>

<script>

function loaded() {
	zig.embed();

	var c = zig.controls.Cursor();
	var ce = document.createElement('div');
	ce.id = 'ourcursor';
	document.body.appendChild(ce);

	// show/hide cursor on session start/end
	zig.singleUserSession.addEventListener('sessionstart', function(focusPosition) {
		ce.style.display = 'block';
	});
	zig.singleUserSession.addEventListener('sessionend', function() {
		ce.style.display = 'none';
	});

	// move the cursor element on cursor move
	c.addEventListener('move', function(cursor) {
		ce.style.left = (c.x * window.innerWidth - (ce.offsetWidth / 2)) + "px";
		ce.style.top = (c.y * window.innerHeight - (ce.offsetHeight / 2)) + "px";
	});

	c.addEventListener('push', function(c) {
		ce.classList.add('pushed');
	});

	c.addEventListener('release', function(c) {
		ce.classList.remove('pushed');
	});

	// add the cursor to our singleUserSession to make sure we get events
	zig.singleUserSession.addListener(c);
}

document.addEventListener('DOMContentLoaded', function () { setTimeout(loaded, 200); }, false);

</script>

<style>

#ourcursor {
	position: fixed;
	display : none; // hidden until a session starts
	width : 40px;
	height : 40px;
	background-color : blue;
}

#ourcursor.pushed {
	background-color: red;
}

</style>

</head>
<body>

<a href="javascript:(function(){var s=document.createElement('script');s.src='http://www.zigfu.com/zigjs/zig.js';s.onload=function(){zig.embed();zig.toys.injectCursor()};document.head.appendChild(s);})()"> Inject cursor </a>

</body>
</html>